<!-- See documentation at http://doc.nuxeo.com/x/HgIz -->
<package type="addon" name="onlyoffice-integration" version="@VERSION@">
  <title>ONLYOFFICE Document Editor Integration</title>
  <description>
<h1><a id="user-content-nuxeo-onlyoffice-integration" class="anchor" aria-hidden="true" href="#nuxeo-onlyoffice-integration"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Nuxeo ONLYOFFICE Integration</h1>
<p><a href="https://qa.nuxeo.org/jenkins/view/Sandbox/job/Sandbox/job/sandbox_nuxeo-onlyoffice-master/" rel="nofollow"><img src="https://camo.githubusercontent.com/e2d1bfdde21e3efb06c7c0c49f2e99fd3daa6da6/68747470733a2f2f71612e6e7578656f2e6f72672f6a656e6b696e732f6275696c645374617475732f69636f6e3f6a6f623d53616e64626f782f73616e64626f785f6e7578656f2d6f6e6c796f66666963652d6d6173746572" alt="Build Status" data-canonical-src="https://qa.nuxeo.org/jenkins/buildStatus/icon?job=Sandbox/sandbox_nuxeo-onlyoffice-master" style="max-width:100%;"></a></p>
<p>In-browser integration of Nuxeo Platform and <a href="https://www.onlyoffice.com/" rel="nofollow">ONLYOFFICE</a>.</p>
<h2><a id="user-content-configure-nuxeoconf" class="anchor" aria-hidden="true" href="#configure-nuxeoconf"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Configure (nuxeo.conf)</h2>
<p>Editor properties:</p>
<pre><code>onlyoffice.url.api=http://onlyoffice/web-apps/apps/api/documents/api.js  # URL to editor api.js service
onlyoffice.version.save=true|false                                       # Create version on save
</code></pre>
<p>Conversion properties:</p>
<pre><code>onlyoffice.url.conversion=http://onlyoffice/ConvertService.ashx     # URL to conversion service (see ONLYOFFICE docs)
onlyoffice.conversion.wait=1000                                     # Number of millisecond to wait between polling async request
</code></pre>
<h2><a id="user-content-use-conversion-service" class="anchor" aria-hidden="true" href="#use-conversion-service"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Use Conversion Service</h2>
<p>Invoke the conversion service to transform between a variety of content types.  By default, the <a href="/nuxeo-sandbox/nuxeo-onlyoffice/blob/master/nuxeo-onlyoffice-core/src/main/resources/OSGI-INF/onlyoffice-conversion-contrib.xml">contribution</a> will support PDF as a destination type.  See the <a href="https://api.onlyoffice.com/editors/conversionapi" rel="nofollow">ONLYOFFICE Conversion API</a> for a full conversion matrix.</p>
<h3><a id="user-content-conversion-parameters" class="anchor" aria-hidden="true" href="#conversion-parameters"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Conversion Parameters</h3>
<table>
<thead>
<tr>
<th>Key</th>
<th>Description</th>
<th>Allowable Values</th>
</tr>
</thead>
<tbody>
<tr>
<td>async</td>
<td>Async Processing</td>
<td>true, false</td>
</tr>
<tr>
<td>srcType</td>
<td>Source Type</td>
<td>allowable type</td>
</tr>
<tr>
<td>destType</td>
<td>Dest Type</td>
<td>allowable type</td>
</tr>
<tr>
<td>codePage</td>
<td>Code Page</td>
<td>code page ref</td>
</tr>
<tr>
<td>delimiter</td>
<td>Delimiter</td>
<td>delimiter ref</td>
</tr>
<tr>
<td>thumbnail</td>
<td>Thumbnail</td>
<td>true, false, (height):(width):(aspect)</td>
</tr></tbody></table>
<h3><a id="user-content-rendition-example" class="anchor" aria-hidden="true" href="#rendition-example"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Rendition example</h3>
<div class="highlight highlight-text-xml"><pre>  &lt;<span class="pl-ent">extension</span> <span class="pl-e">target</span>=<span class="pl-s"><span class="pl-pds">"</span>org.nuxeo.ecm.platform.rendition.service.RenditionService<span class="pl-pds">"</span></span> <span class="pl-e">point</span>=<span class="pl-s"><span class="pl-pds">"</span>renditionDefinitions<span class="pl-pds">"</span></span>&gt;
    &lt;<span class="pl-ent">renditionDefinition</span> <span class="pl-e">name</span>=<span class="pl-s"><span class="pl-pds">"</span>onlyoffice<span class="pl-pds">"</span></span>&gt;
      &lt;<span class="pl-ent">label</span>&gt;label.rendition.onlyofficepdf&lt;/<span class="pl-ent">label</span>&gt;
      &lt;<span class="pl-ent">icon</span>&gt;/icons/note.gif&lt;/<span class="pl-ent">icon</span>&gt;
      &lt;<span class="pl-ent">contentType</span>&gt;application/pdf&lt;/<span class="pl-ent">contentType</span>&gt;
      &lt;<span class="pl-ent">operationChain</span>&gt;onlyofficePdf&lt;/<span class="pl-ent">operationChain</span>&gt;
      &lt;<span class="pl-ent">storeByDefault</span>&gt;false&lt;/<span class="pl-ent">storeByDefault</span>&gt;
    &lt;/<span class="pl-ent">renditionDefinition</span>&gt;
  &lt;/<span class="pl-ent">extension</span>&gt;

  &lt;<span class="pl-ent">extension</span> <span class="pl-e">target</span>=<span class="pl-s"><span class="pl-pds">"</span>org.nuxeo.ecm.core.operation.OperationServiceComponent<span class="pl-pds">"</span></span> <span class="pl-e">point</span>=<span class="pl-s"><span class="pl-pds">"</span>chains<span class="pl-pds">"</span></span>&gt;
    &lt;<span class="pl-ent">chain</span> <span class="pl-e">id</span>=<span class="pl-s"><span class="pl-pds">"</span>onlyofficePdf<span class="pl-pds">"</span></span>&gt;
      &lt;<span class="pl-ent">operation</span> <span class="pl-e">id</span>=<span class="pl-s"><span class="pl-pds">"</span>Context.PopBlob<span class="pl-pds">"</span></span>/&gt;
      &lt;<span class="pl-ent">operation</span> <span class="pl-e">id</span>=<span class="pl-s"><span class="pl-pds">"</span>Blob.RunConverter<span class="pl-pds">"</span></span>&gt;
        &lt;<span class="pl-ent">param</span> <span class="pl-e">name</span>=<span class="pl-s"><span class="pl-pds">"</span>converter<span class="pl-pds">"</span></span> <span class="pl-e">type</span>=<span class="pl-s"><span class="pl-pds">"</span>string<span class="pl-pds">"</span></span>&gt;office2pdf&lt;/<span class="pl-ent">param</span>&gt;
        &lt;<span class="pl-ent">param</span> <span class="pl-e">name</span>=<span class="pl-s"><span class="pl-pds">"</span>parameters<span class="pl-pds">"</span></span> <span class="pl-e">type</span>=<span class="pl-s"><span class="pl-pds">"</span>properties<span class="pl-pds">"</span></span>&gt;async=false&lt;/<span class="pl-ent">param</span>&gt;
      &lt;/<span class="pl-ent">operation</span>&gt;
    &lt;/<span class="pl-ent">chain</span>&gt;
  &lt;/<span class="pl-ent">extension</span>&gt;</pre></div>
<h2><a id="user-content-support" class="anchor" aria-hidden="true" href="#support"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Support</h2>
<p><strong>These features are sand-boxed and not yet part of the Nuxeo Production platform.</strong></p>
<p>These solutions are provided for inspiration and we encourage customers to use them as code samples and learning resources.</p>
<p>This is a moving project (no API maintenance, no deprecation process, etc.) If any of these solutions are found to be useful for the Nuxeo Platform in general, they will be integrated directly into platform, not maintained here.</p>
<h2><a id="user-content-licensing" class="anchor" aria-hidden="true" href="#licensing"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Licensing</h2>
<p><a href="http://www.apache.org/licenses/LICENSE-2.0" rel="nofollow">Apache License, Version 2.0</a></p>
<h2><a id="user-content-about-nuxeo" class="anchor" aria-hidden="true" href="#about-nuxeo"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>About Nuxeo</h2>
<p>Nuxeo dramatically improves how content-based applications are built, managed and deployed, making customers more agile, innovative and successful. Nuxeo provides a next generation, enterprise ready platform for building traditional and cutting-edge content oriented applications. Combining a powerful application development environment with SaaS-based tools and a modular architecture, the Nuxeo Platform and Products provide clear business value to some of the most recognizable brands including Verizon, Electronic Arts, Sharp, FICO, the U.S. Navy, and Boeing. Nuxeo is headquartered in New York and Paris.</p>
<p>More information is available at <a href="http://www.nuxeo.com" rel="nofollow">www.nuxeo.com</a>.</p>  </description>
  <!-- <home-page>http://doc.nuxeo.com/</home-page> -->
  <vendor>Nuxeo, Inc.</vendor>
  <installer restart="true" />
  <uninstaller restart="true" />
  <!-- <hotreload-support>false</hotreload-support> -->
  <!-- <require-terms-and-conditions-acceptance>false</require-terms-and-conditions-acceptance> -->
  <!-- Nuxeo Validation: none | inprocess | primary_validation | nuxeo_certified -->
  <nuxeo-validation>none</nuxeo-validation>
  <!-- Production State: production_ready | testing | proto -->
  <production-state>testing</production-state>
  <supported>false</supported>
  <platforms>
    <platform>server-@DISTRIB_VERSION@</platform>
    <platform>server-@DISTRIB_VERSION@-HF*</platform>
  </platforms>
  <license>Apache License, Version 2.0</license>
  <license-url>http://www.apache.org/licenses/LICENSE-2.0</license-url>
  <!-- Visibility: PRIVATE | MARKETPLACE | DEV | PUBLIC -->
  <visibility>DEV</visibility>
</package>
